#!/usr/bin/env php
<?php

require __DIR__ . "/../vendor/autoload.php";

echo "Enter LESS code line by line, then type \"compile\" (without quotes)"
    . " to parse and compile:", PHP_EOL;

$code = "";

while (trim($line = readline()) !== "compile") {
    $code .= PHP_EOL . $line;
}

echo "Parsing and compiling...", PHP_EOL;

$lessTree = (new LessCompiler\Less\Parser)->parse($code);
$cssTree = (new LessCompiler\Compiler)->compileTree($lessTree);

echo (new LessCompiler\Css\Printers\StandardPrinter)->printTree($cssTree);

# vim: syntax=php
